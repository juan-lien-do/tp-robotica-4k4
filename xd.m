%xd
a3 = 3;
d1 = 15;
a2 = 7;

syms q1 q2 q3 px py pz real

  equation1 = px == a3* cos(q3) * cos(q1) * cos(q2) - a3 * sin(q3) * sin(q2) * cos(q1) + cos(q1) * a2 * cos(q2);
  equation2 = py == a3* cos(q3) * sin(q1) * cos(q2) - a3 * sin(q3) * sin(q2) * sin(q1) + sin(q1) * a2 * cos(q2);
  equation3 = pz == a3 * cos(q3) * sin(q2) + a3 * sin(q3) * cos(q2) + a2 * sin(q2) + d1;

simplify(...
  power(a3 * cos(q3) * sin(q2) + a3 * sin(q3) * cos(q2) + a2 * sin(q2) + d1, 2) + ...
  power(a3* cos(q3) * sin(q3) * cos(q2) - a3 * sin(q3) * sin(q2) * sin(q3) + sin(q3) * a2 * cos(q2), 2) +...
  power(a3* cos(q3) * cos(q3) * cos(q2) - a3 * sin(q3) * sin(q2) * cos(q3) + cos(q3) * a2 * cos(q2), 2) ...
  )

%% answer to this= 210*sin(q2) + 90*sin(q2 + q3) + 42*cos(q3) + 283


%  simplify(...
%  power(a3 * cos(q3) * sin(q2) + a3 * sin(q3) * cos(q2) + a2 * sin(q2) + d1, 2) + ...
%  power(a3* cos(q3) * sin(q1) * cos(q2) - a3 * sin(q3) * sin(q2) * sin(q1) + sin(q1) * a2 * cos(q2), 2) +...
%  power(a3* cos(q3) * cos(q1) * cos(q2) - a3 * sin(q3) * sin(q2) * cos(q1) + cos(q1) * a2 * cos(q2), 2) ...
%  )
